<!--
  templateType: module
  label: Header - Cellcolabs Clinical
  isAvailableForNewContent: false
-->
{# Retrieve translations for the template #}
{% set template_translations = load_translations('../../templates/_locales', html_lang, 'en') %}

<header class="header site-header" data-brand="cellcolabsclinical">

  {# The link below is used for a navigation skipper which allows users navigating the site with their keyboard to skip over the site navigation #}
  <a href="#main-content" class="header__skip">{{ template_translations.partial_header_skip_to_content.message }}</a>

  <!-- Navigation -->
  <nav class="site-navigation" data-brand="cellcolabsclinical" style="background-color: #ffffff !important;">
    <div class="nav-container" style="max-width: 1460px !important; margin: 0 auto !important; padding: 0 24px !important;">
      <div class="nav-wrapper" style="display: flex !important; justify-content: space-between !important; align-items: center !important; padding: 16px 0 !important; min-height: 72px !important; position: relative !important;">

        <!-- Logo - Image Only Per Figma -->
        <a href="/" class="nav-logo" style="text-decoration: none !important; display: flex !important; align-items: center !important;">
          <img src="https://144549987.fs1.hubspotusercontent-eu1.net/hubfs/144549987/Cellcolabs%20Clinical%20Logo.png" alt="Cellcolabs Clinical" style="height: 40px !important; width: 58px !important; object-fit: contain !important; display: block !important;">
        </a>

        <!-- Desktop Menu -->
        <div class="nav-menu-desktop">
          <div style="display: flex !important; align-items: center !important;">
            {% menu "main_navigation_clinical"
              id="main_navigation_clinical",
              site_map_name="main_navigation_clinical",
              overrideable=False,
              root_type="site_root",
              flyouts="true",
              max_levels="2",
              flow="horizontal",
              menu_class="nav-menu-list",
              item_class="nav-menu-item",
              link_class="nav-menu-link link-black",
              active_class="nav-menu-item--active",
              child_ul_class="nav-submenu",
              child_li_class="nav-submenu-item",
              child_a_class="nav-submenu-link link-black"
            %}
          </div>
        </div>

        <!-- Mobile Menu Button - 6 dots (2x3 grid) per Figma -->
        <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" style="display: flex !important; align-items: center !important; justify-content: center !important; width: 48px !important; height: 48px !important; background: none !important; border: none !important; cursor: pointer !important; color: #161616 !important; position: absolute !important; right: 24px !important; top: 50% !important; transform: translateY(-50%) !important; z-index: 2147483647 !important;">
          <svg class="nav-toggle-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="6" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="12" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="18" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="6" cy="16" r="1.5" fill="currentColor"/>
            <circle cx="12" cy="16" r="1.5" fill="currentColor"/>
            <circle cx="18" cy="16" r="1.5" fill="currentColor"/>
          </svg>
          <svg class="nav-toggle-close" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none !important;">
            <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="nav-menu-mobile" style="position: absolute !important; top: 100% !important; left: 0 !important; right: 0 !important; background-color: #ffffff !important; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important; max-height: calc(100vh - 80px) !important; overflow-y: auto !important; z-index: 999998 !important; display: none !important;">
      <div style="padding: 24px !important;">
        {% menu "main_navigation_clinical"
          id="main_navigation_clinical_mobile",
          site_map_name="main_navigation_clinical",
          overrideable=False,
          root_type="site_root",
          flyouts="false",
          max_levels="2",
          flow="vertical",
          menu_class="nav-mobile-list",
          item_class="nav-mobile-item",
          link_class="nav-mobile-link link-black",
          active_class="nav-mobile-item--active",
          child_ul_class="nav-mobile-submenu",
          child_li_class="nav-mobile-submenu-item",
          child_a_class="nav-mobile-submenu-link link-black"
        %}
      </div>
    </div>
  </nav>

</header>

<!-- Inline Styles - MAXIMUM OVERRIDE POWER -->
<style>
  /* Global font import */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;450;500;550;600;650;700;750;800;900&display=swap');

  /* STICKY HEADER - Must be in CSS block, not inline */
  /* Apply to HubSpot wrapper since it's the parent container */
  .hs_cos_wrapper_type_module:has(.header.site-header) {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 0 !important;
    z-index: 999999 !important;
  }

  .header.site-header {
    background-color: #ffffff !important;
  }

  /* DESKTOP MENU - FIGMA EXACT SPECIFICATIONS */
  .header .nav-menu-desktop .hs-menu-wrapper > ul {
    display: flex !important;
    gap: 8px !important;
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    align-items: center !important;
  }

  .header .nav-menu-desktop .hs-menu-item {
    position: relative !important;
    margin: 0 !important;
  }

  /* NUCLEAR MENU ITEM OVERRIDE - ALL POSSIBLE SELECTORS (color handled by .link-black utility) */
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a[role="menuitem"],
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item.hs-menu-depth-1 > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item a,
  html body .header .nav-menu-desktop .hs-menu-item > a,
  html body .header .nav-menu-desktop a,
  html body .site-header .site-navigation .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a,
  html body .site-header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a,
  html body .site-header .nav-menu-desktop .hs-menu-item > a,
  html body .site-header .nav-menu-desktop a {
    font-family: 'Inter', sans-serif !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    line-height: 1 !important;
    text-decoration: none !important;
    padding: 12px 16px !important;
    display: flex !important;
    align-items: center !important;
    gap: 4px !important;
    transition: color 0.2s ease !important;
    background: transparent !important;
    border: none !important;
  }

  /* Submenu chevron icon */
  .nav-chevron-icon {
    width: 12px;
    height: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: 4px;
    margin-top: 0;
    margin-bottom: 0;
    transition: transform 0.2s ease;
    flex-shrink: 0;
    align-self: center;
    vertical-align: middle;
  }

  .nav-chevron-icon svg {
    width: 100%;
    height: 100%;
    display: block;
    vertical-align: middle;
  }

  /* Ensure parent link properly centers children */
  html body .header .nav-menu-desktop .hs-menu-item.has-submenu > a {
    align-items: center !important;
    gap: 4px !important;
  }

  /* Rotate chevron when submenu is open */
  .hs-menu-item.has-submenu.submenu-open .nav-chevron-icon {
    transform: rotate(180deg);
  }

  /* Desktop submenu positioning and styling */
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item .nav-submenu,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item ul {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    background: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px !important;
    padding: 8px 0 !important;
    margin: 4px 0 0 0 !important;
    min-width: 200px !important;
    display: none !important;
    list-style: none !important;
    z-index: 10000 !important;
  }

  /* Show submenu on hover or when open class is added */
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item:hover > .nav-submenu,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item:hover > ul,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item.submenu-open > .nav-submenu,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item.submenu-open > ul {
    display: block !important;
  }

  /* Submenu items */
  html body .header .nav-menu-desktop .hs-menu-wrapper .nav-submenu .nav-submenu-item,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item ul li {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Submenu links (color handled by .link-black utility) */
  html body .header .nav-menu-desktop .hs-menu-wrapper .nav-submenu .nav-submenu-link,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item ul li a {
    font-family: 'Inter', sans-serif !important;
    font-size: 14px !important;
    font-weight: 450 !important;
    line-height: 1.5 !important;
    text-decoration: none !important;
    padding: 8px 16px !important;
    display: block !important;
    transition: background-color 0.2s ease, color 0.2s ease !important;
    background: transparent !important;
    border: none !important;
  }

  /* Submenu link hover */
  html body .header .nav-menu-desktop .hs-menu-wrapper .nav-submenu .nav-submenu-link:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item ul li a:hover {
    background-color: #f4f4f4 !important;
    color: #4f65be !important;
  }

  /* HOVER OVERRIDE - Clinical Blue */
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a[role="menuitem"]:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item.hs-menu-depth-1 > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item a:hover,
  html body .header .nav-menu-desktop .hs-menu-item > a:hover,
  html body .header .nav-menu-desktop a:hover,
  html body .site-header .site-navigation .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop a:hover {
    color: #4f65be !important; /* Clinical Blue */
  }

  /* MOBILE MENU OVERRIDES - Target both custom classes and HubSpot classes */
  html body .header .nav-menu-mobile .hs-menu-wrapper > ul,
  html body .header .nav-menu-mobile .nav-mobile-list {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
  }

  /* Mobile menu items with submenus */
  html body .header .nav-menu-mobile .hs-menu-item.has-submenu {
    position: relative !important;
  }

  /* Target all possible mobile menu link combinations (color handled by .link-black utility) */
  html body .header .nav-menu-mobile .hs-menu-item > a,
  html body .header .nav-menu-mobile .nav-mobile-item > a,
  html body .header .nav-menu-mobile .nav-mobile-link,
  html body .header .nav-menu-mobile a {
    font-family: 'Inter', sans-serif !important;
    font-size: 16px !important;
    font-weight: 450 !important;
    line-height: 1.5 !important;
    text-decoration: none !important;
    padding: 16px 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important;
    border-bottom: 1px solid #c6c6c6 !important;
    transition: color 0.2s ease !important;
    background: transparent !important;
  }

  /* Mobile menu hover - Clinical Blue */
  html body .header .nav-menu-mobile .hs-menu-item > a:hover,
  html body .header .nav-menu-mobile .nav-mobile-item > a:hover,
  html body .header .nav-menu-mobile .nav-mobile-link:hover,
  html body .header .nav-menu-mobile a:hover {
    color: #4f65be !important; /* Clinical Blue */
  }

  /* Last menu item - no bottom border */
  html body .header .nav-menu-mobile .hs-menu-item:last-child > a,
  html body .header .nav-menu-mobile .nav-mobile-item:last-child > a {
    border-bottom: none !important;
  }

  /* Mobile submenu - collapsed by default */
  html body .header .nav-menu-mobile .nav-mobile-submenu,
  html body .header .nav-menu-mobile .hs-menu-item ul {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    max-height: 0 !important;
    overflow: hidden !important;
    transition: max-height 0.3s ease !important;
    background: #f4f4f4 !important;
  }

  /* Mobile submenu - expanded state */
  html body .header .nav-menu-mobile .hs-menu-item.submenu-open .nav-mobile-submenu,
  html body .header .nav-menu-mobile .hs-menu-item.submenu-open ul {
    max-height: 500px !important;
  }

  /* Mobile submenu items */
  html body .header .nav-menu-mobile .nav-mobile-submenu .nav-mobile-submenu-item,
  html body .header .nav-menu-mobile .hs-menu-item ul li {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Mobile submenu links (color handled by .link-black utility) */
  html body .header .nav-menu-mobile .nav-mobile-submenu .nav-mobile-submenu-link,
  html body .header .nav-menu-mobile .hs-menu-item ul li a {
    font-family: 'Inter', sans-serif !important;
    font-size: 14px !important;
    font-weight: 450 !important;
    line-height: 1.5 !important;
    text-decoration: none !important;
    padding: 12px 24px 12px 40px !important;
    display: block !important;
    border-bottom: 1px solid #e0e0e0 !important;
    transition: color 0.2s ease !important;
    background: transparent !important;
  }

  /* Mobile submenu link hover */
  html body .header .nav-menu-mobile .nav-mobile-submenu .nav-mobile-submenu-link:hover,
  html body .header .nav-menu-mobile .hs-menu-item ul li a:hover {
    color: #4f65be !important;
  }

  /* Mobile chevron icon (reuse desktop styles but with different rotation for mobile) */
  .nav-menu-mobile .nav-chevron-icon {
    width: 12px;
    height: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-left: auto;
    margin-top: 0;
    margin-bottom: 0;
    transition: transform 0.2s ease;
    flex-shrink: 0;
    align-self: center;
    vertical-align: middle;
  }

  /* Ensure mobile parent link properly centers children */
  html body .header .nav-menu-mobile .hs-menu-item.has-submenu > a {
    align-items: center !important;
  }

  .nav-menu-mobile .hs-menu-item.submenu-open .nav-chevron-icon {
    transform: rotate(180deg);
  }

  /* Ensure mobile menu container is visible when active */
  html body .header .nav-menu-mobile.is-active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    background: #ffffff !important;
  }

  /* Force mobile menu content to be visible */
  html body .header .nav-menu-mobile.is-active .hs-menu-wrapper,
  html body .header .nav-menu-mobile.is-active > div,
  html body .header .nav-menu-mobile.is-active ul,
  html body .header .nav-menu-mobile.is-active li {
    display: block !important;
    visibility: visible !important;
  }

  /* Mobile toggle states */
  .header .nav-toggle[aria-expanded="true"] .nav-toggle-icon {
    display: none !important;
  }

  .header .nav-toggle[aria-expanded="true"] .nav-toggle-close {
    display: block !important;
  }

  /* Default display states - Mobile First */
  .header .nav-menu-desktop {
    display: none !important;
  }

  .header .nav-menu-mobile {
    display: none !important;
  }

  .header .nav-toggle {
    display: flex !important;
    position: absolute !important;
    right: 24px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 2147483647 !important;
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 48px !important;
    height: 48px !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Responsive Design - FIGMA BREAKPOINTS */
  /* Mobile: 0-767px */
  @media (max-width: 767px) {
    .header .nav-container {
      padding: 6px 16px !important;
    }
    .header .nav-wrapper {
      padding: 0 !important;
      min-height: 52px !important;
    }
    .header .nav-menu-desktop {
      display: none !important;
    }
    .header .nav-toggle {
      display: flex !important;
    }
    .header .nav-menu-mobile {
      display: none !important;
    }
    .header .nav-menu-mobile.is-active {
      display: block !important;
    }
  }

  /* Tablet: 768px-1023px */
  @media (min-width: 768px) and (max-width: 1023px) {
    .header .nav-container {
      padding: 6px 16px !important;
    }
    .header .nav-wrapper {
      padding: 0 !important;
      min-height: 52px !important;
    }
    .header .nav-menu-desktop {
      display: none !important;
    }
    .header .nav-toggle {
      display: flex !important;
    }
    .header .nav-menu-mobile {
      display: none !important;
    }
    .header .nav-menu-mobile.is-active {
      display: block !important;
    }
  }

  /* Desktop: 1024px+ */
  @media (min-width: 1024px) {
    .header .nav-container {
      padding: 0 24px !important;
    }
    .header .nav-wrapper {
      padding: 16px 0 !important;
      min-height: 72px !important;
    }
    .header .nav-menu-desktop {
      display: block !important;
    }
    /* FORCE HIDE mobile elements on desktop */
    .header .nav-toggle,
    html body .header .nav-toggle,
    html body .site-header .nav-toggle {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .header .nav-menu-mobile,
    .header .nav-menu-mobile.is-active,
    html body .header .nav-menu-mobile,
    html body .header .nav-menu-mobile.is-active {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }
  }

  @media (min-width: 1460px) {
    .header .nav-container {
      padding: 0 24px !important;
    }
  }

  /* HubSpot Tools Menu Override */
  .hs-tools-menu {
    z-index: 999998 !important;
  }

  .header .nav-toggle {
    z-index: 2147483647 !important;
  }

  /* Nuclear button style overrides */
  html body .header .nav-toggle,
  html body .header .nav-toggle:hover,
  html body .header .nav-toggle:focus,
  html body .header .nav-toggle:active,
  html body .header .nav-toggle[aria-expanded="true"] {
    background: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 48px !important;
    height: 48px !important;
    color: #161616 !important;
    fill: #161616 !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* SVG color fix */
  html body .header .nav-toggle svg,
  html body .header .nav-toggle:hover svg,
  html body .header .nav-toggle:focus svg,
  html body .header .nav-toggle:active svg,
  html body .header .nav-toggle[aria-expanded="true"] svg {
    color: #161616 !important;
    fill: currentColor !important;
  }

  .header .nav-menu-mobile {
    z-index: 999999 !important;
  }

  /* Mobile menu styling */
  .nav-menu-mobile.is-active {
    display: block !important;
    background: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  }

  /* Additional HubSpot override selectors */
  .hs-tools-menu.hs-collapsed,
  .hs-tools-menu.hs-expanded {
    z-index: 999998 !important;
  }

  /* FINAL CASCADE - Mobile Menu Active State */
  .header .nav-menu-mobile.is-active,
  html body .header .nav-menu-mobile.is-active,
  html body .site-header .nav-menu-mobile.is-active,
  html body .header .site-navigation .nav-menu-mobile.is-active,
  html body .site-header .site-navigation .nav-menu-mobile.is-active,
  .nav-menu-mobile.is-active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    right: 0 !important;
    background-color: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    z-index: 999998 !important;
  }

</style>

<script>
(function() {
  'use strict';

  // Simple solid V chevron pointing down
  const chevronDownSvg = `
    <svg class="nav-chevron-icon" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2 2L6 6L10 2" stroke="#161616" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `;

  function initSubmenuIndicators() {
    // Desktop menu
    const desktopMenuItems = document.querySelectorAll('.header .nav-menu-desktop .hs-menu-wrapper > ul > .hs-menu-item');

    desktopMenuItems.forEach(item => {
      const submenu = item.querySelector('ul');
      if (submenu) {
        item.classList.add('has-submenu');
        const link = item.querySelector(':scope > a');
        if (link && !link.querySelector('.nav-chevron-icon')) {
          link.insertAdjacentHTML('beforeend', chevronDownSvg);
        }
      }
    });

    // Mobile menu
    const mobileMenuItems = document.querySelectorAll('.header .nav-menu-mobile .hs-menu-wrapper > ul > .hs-menu-item');

    mobileMenuItems.forEach(item => {
      const submenu = item.querySelector('ul');
      if (submenu) {
        item.classList.add('has-submenu');
        const link = item.querySelector(':scope > a');
        if (link && !link.querySelector('.nav-chevron-icon')) {
          link.insertAdjacentHTML('beforeend', chevronDownSvg);

          // Add click handler for mobile submenu toggle
          link.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();

            // Toggle submenu open/close
            if (item.classList.contains('submenu-open')) {
              item.classList.remove('submenu-open');
            } else {
              // Close other open submenus
              mobileMenuItems.forEach(otherItem => {
                if (otherItem !== item) {
                  otherItem.classList.remove('submenu-open');
                }
              });
              item.classList.add('submenu-open');
            }
          });
        }
      }
    });
  }

  // Initialize on page load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initSubmenuIndicators);
  } else {
    initSubmenuIndicators();
  }

  // Re-initialize when mobile menu is toggled (in case menu is dynamically rendered)
  const navToggle = document.querySelector('.header .nav-toggle');
  if (navToggle) {
    navToggle.addEventListener('click', function() {
      setTimeout(initSubmenuIndicators, 100);
    });
  }

  // Also observe for dynamic content changes
  const observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.addedNodes.length) {
        initSubmenuIndicators();
      }
    });
  });

  const navMenuMobile = document.querySelector('.header .nav-menu-mobile');
  if (navMenuMobile) {
    observer.observe(navMenuMobile, { childList: true, subtree: true });
  }

  // Close mobile menu when clicking outside
  document.addEventListener('click', function(event) {
    const mobileMenu = document.querySelector('.header .nav-menu-mobile');
    const navToggle = document.querySelector('.header .nav-toggle');

    // Check if menu is open
    if (mobileMenu && mobileMenu.classList.contains('is-active')) {
      // Check if click is outside the mobile menu AND not on the toggle button
      const clickedInsideMenu = mobileMenu.contains(event.target);
      const clickedToggle = navToggle && navToggle.contains(event.target);

      if (!clickedInsideMenu && !clickedToggle) {
        // Close the menu
        mobileMenu.classList.remove('is-active');
        if (navToggle) {
          navToggle.setAttribute('aria-expanded', 'false');
        }
      }
    }
  });
})();
</script>
