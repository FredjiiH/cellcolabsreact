<!--
  templateType: module
  label: Header - Cellcolabs Clinical
  isAvailableForNewContent: false
-->
{# Retrieve translations for the template #}
{% set template_translations = load_translations('../../templates/_locales', html_lang, 'en') %}

<header class="header site-header" data-brand="cellcolabsclinical">

  {# The link below is used for a navigation skipper which allows users navigating the site with their keyboard to skip over the site navigation #}
  <a href="#main-content" class="header__skip">{{ template_translations.partial_header_skip_to_content.message }}</a>

  <!-- Navigation -->
  <nav class="site-navigation" data-brand="cellcolabsclinical" style="background-color: #ffffff !important; position: relative !important; z-index: 999999 !important;">
    <div class="nav-container" style="max-width: 1460px !important; margin: 0 auto !important; padding: 0 24px !important;">
      <div class="nav-wrapper" style="display: flex !important; justify-content: space-between !important; align-items: center !important; padding: 16px 0 !important; min-height: 72px !important; position: relative !important;">

        <!-- Logo - Image Only Per Figma -->
        <a href="/" class="nav-logo" style="text-decoration: none !important; display: flex !important; align-items: center !important;">
          <img src="https://144549987.fs1.hubspotusercontent-eu1.net/hubfs/144549987/Cellcolabs%20Clinical%20Logo.png" alt="Cellcolabs Clinical" style="height: 40px !important; width: 58px !important; object-fit: contain !important; display: block !important;">
        </a>

        <!-- Desktop Menu -->
        <div class="nav-menu-desktop">
          <div style="display: flex !important; align-items: center !important;">
            {% menu "main_navigation_clinical"
              id="main_navigation_clinical",
              site_map_name="main_navigation_clinical",
              overrideable=False,
              root_type="site_root",
              flyouts="true",
              max_levels="2",
              flow="horizontal",
              menu_class="nav-menu-list",
              item_class="nav-menu-item",
              link_class="nav-menu-link",
              active_class="nav-menu-item--active",
              child_ul_class="nav-submenu",
              child_li_class="nav-submenu-item",
              child_a_class="nav-submenu-link"
            %}
          </div>
        </div>

        <!-- Mobile Menu Button - 6 dots (2x3 grid) per Figma -->
        <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" style="display: flex !important; align-items: center !important; justify-content: center !important; width: 48px !important; height: 48px !important; background: none !important; border: none !important; cursor: pointer !important; color: #161616 !important; position: absolute !important; right: 24px !important; top: 50% !important; transform: translateY(-50%) !important; z-index: 2147483647 !important;">
          <svg class="nav-toggle-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="6" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="12" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="18" cy="8" r="1.5" fill="currentColor"/>
            <circle cx="6" cy="16" r="1.5" fill="currentColor"/>
            <circle cx="12" cy="16" r="1.5" fill="currentColor"/>
            <circle cx="18" cy="16" r="1.5" fill="currentColor"/>
          </svg>
          <svg class="nav-toggle-close" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: none !important;">
            <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="nav-menu-mobile" style="position: absolute !important; top: 100% !important; left: 0 !important; right: 0 !important; background-color: #ffffff !important; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important; max-height: calc(100vh - 80px) !important; overflow-y: auto !important; z-index: 999998 !important; display: none !important;">
      <div style="padding: 24px !important;">
        {% menu "main_navigation_clinical"
          id="main_navigation_clinical_mobile",
          site_map_name="main_navigation_clinical",
          overrideable=False,
          root_type="site_root",
          flyouts="false",
          max_levels="2",
          flow="vertical",
          menu_class="nav-mobile-list",
          item_class="nav-mobile-item",
          link_class="nav-mobile-link",
          active_class="nav-mobile-item--active",
          child_ul_class="nav-mobile-submenu",
          child_li_class="nav-mobile-submenu-item",
          child_a_class="nav-mobile-submenu-link"
        %}
      </div>
    </div>
  </nav>

</header>

<!-- Inline Styles - MAXIMUM OVERRIDE POWER -->
<style>
  /* Global font import */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;450;500;550;600;650;700;750;800;900&display=swap');

  /* DESKTOP MENU - FIGMA EXACT SPECIFICATIONS */
  .header .nav-menu-desktop .hs-menu-wrapper > ul {
    display: flex !important;
    gap: 8px !important;
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    align-items: center !important;
  }

  .header .nav-menu-desktop .hs-menu-item {
    position: relative !important;
    margin: 0 !important;
  }

  /* NUCLEAR MENU ITEM OVERRIDE - ALL POSSIBLE SELECTORS */
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a[role="menuitem"],
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item.hs-menu-depth-1 > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li > a,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item a,
  html body .header .nav-menu-desktop .hs-menu-item > a,
  html body .header .nav-menu-desktop a,
  html body .site-header .site-navigation .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a,
  html body .site-header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a,
  html body .site-header .nav-menu-desktop .hs-menu-item > a,
  html body .site-header .nav-menu-desktop a {
    font-family: 'Inter', sans-serif !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    line-height: 1 !important;
    color: #161616 !important;
    text-decoration: none !important;
    padding: 12px 16px !important;
    display: block !important;
    transition: color 0.2s ease !important;
    background: transparent !important;
    border: none !important;
  }

  /* HOVER OVERRIDE - Clinical Blue */
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item > a[role="menuitem"]:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li.hs-menu-item.hs-menu-depth-1 > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper > ul > li > a:hover,
  html body .header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item a:hover,
  html body .header .nav-menu-desktop .hs-menu-item > a:hover,
  html body .header .nav-menu-desktop a:hover,
  html body .site-header .site-navigation .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop .hs-menu-wrapper .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop .hs-menu-item > a:hover,
  html body .site-header .nav-menu-desktop a:hover {
    color: #4f65be !important; /* Clinical Blue */
  }

  /* MOBILE MENU OVERRIDES - Target both custom classes and HubSpot classes */
  html body .header .nav-menu-mobile .hs-menu-wrapper > ul,
  html body .header .nav-menu-mobile .nav-mobile-list {
    list-style: none !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
  }

  /* Target all possible mobile menu link combinations */
  html body .header .nav-menu-mobile .hs-menu-item > a,
  html body .header .nav-menu-mobile .nav-mobile-item > a,
  html body .header .nav-menu-mobile .nav-mobile-link,
  html body .header .nav-menu-mobile a {
    font-family: 'Inter', sans-serif !important;
    font-size: 16px !important;
    font-weight: 450 !important;
    line-height: 1.5 !important;
    color: #161616 !important;
    text-decoration: none !important;
    padding: 16px 24px !important;
    display: block !important;
    border-bottom: 1px solid #c6c6c6 !important;
    transition: color 0.2s ease !important;
    background: transparent !important;
  }

  /* Mobile menu hover - Clinical Blue */
  html body .header .nav-menu-mobile .hs-menu-item > a:hover,
  html body .header .nav-menu-mobile .nav-mobile-item > a:hover,
  html body .header .nav-menu-mobile .nav-mobile-link:hover,
  html body .header .nav-menu-mobile a:hover {
    color: #4f65be !important; /* Clinical Blue */
  }

  /* Last menu item - no bottom border */
  html body .header .nav-menu-mobile .hs-menu-item:last-child > a,
  html body .header .nav-menu-mobile .nav-mobile-item:last-child > a {
    border-bottom: none !important;
  }

  /* Ensure mobile menu container is visible when active */
  html body .header .nav-menu-mobile.is-active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    background: #ffffff !important;
  }

  /* Force mobile menu content to be visible */
  html body .header .nav-menu-mobile.is-active .hs-menu-wrapper,
  html body .header .nav-menu-mobile.is-active > div,
  html body .header .nav-menu-mobile.is-active ul,
  html body .header .nav-menu-mobile.is-active li {
    display: block !important;
    visibility: visible !important;
  }

  /* Mobile toggle states */
  .header .nav-toggle[aria-expanded="true"] .nav-toggle-icon {
    display: none !important;
  }

  .header .nav-toggle[aria-expanded="true"] .nav-toggle-close {
    display: block !important;
  }

  /* Default display states - Mobile First */
  .header .nav-menu-desktop {
    display: none !important;
  }

  .header .nav-menu-mobile {
    display: none !important;
  }

  .header .nav-toggle {
    display: flex !important;
    position: absolute !important;
    right: 24px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    z-index: 2147483647 !important;
    background: none !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 48px !important;
    height: 48px !important;
    align-items: center !important;
    justify-content: center !important;
  }

  /* Responsive Design - FIGMA BREAKPOINTS */
  /* Mobile: 0-767px */
  @media (max-width: 767px) {
    .header .nav-container {
      padding: 6px 16px !important;
    }
    .header .nav-wrapper {
      padding: 0 !important;
      min-height: 52px !important;
    }
    .header .nav-menu-desktop {
      display: none !important;
    }
    .header .nav-toggle {
      display: flex !important;
    }
    .header .nav-menu-mobile {
      display: none !important;
    }
    .header .nav-menu-mobile.is-active {
      display: block !important;
    }
  }

  /* Tablet: 768px-1023px */
  @media (min-width: 768px) and (max-width: 1023px) {
    .header .nav-container {
      padding: 6px 16px !important;
    }
    .header .nav-wrapper {
      padding: 0 !important;
      min-height: 52px !important;
    }
    .header .nav-menu-desktop {
      display: none !important;
    }
    .header .nav-toggle {
      display: flex !important;
    }
    .header .nav-menu-mobile {
      display: none !important;
    }
    .header .nav-menu-mobile.is-active {
      display: block !important;
    }
  }

  /* Desktop: 1024px+ */
  @media (min-width: 1024px) {
    .header .nav-container {
      padding: 0 24px !important;
    }
    .header .nav-wrapper {
      padding: 16px 0 !important;
      min-height: 72px !important;
    }
    .header .nav-menu-desktop {
      display: block !important;
    }
    /* FORCE HIDE mobile elements on desktop */
    .header .nav-toggle,
    html body .header .nav-toggle,
    html body .site-header .nav-toggle {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }
    .header .nav-menu-mobile,
    .header .nav-menu-mobile.is-active,
    html body .header .nav-menu-mobile,
    html body .header .nav-menu-mobile.is-active {
      display: none !important;
      visibility: hidden !important;
      opacity: 0 !important;
    }
  }

  @media (min-width: 1460px) {
    .header .nav-container {
      padding: 0 24px !important;
    }
  }

  /* HubSpot Tools Menu Override */
  .hs-tools-menu {
    z-index: 999998 !important;
  }

  .header .nav-toggle {
    z-index: 2147483647 !important;
  }

  /* Nuclear button style overrides */
  html body .header .nav-toggle,
  html body .header .nav-toggle:hover,
  html body .header .nav-toggle:focus,
  html body .header .nav-toggle:active,
  html body .header .nav-toggle[aria-expanded="true"] {
    background: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    width: 48px !important;
    height: 48px !important;
    color: #161616 !important;
    fill: #161616 !important;
    outline: none !important;
    box-shadow: none !important;
  }

  /* SVG color fix */
  html body .header .nav-toggle svg,
  html body .header .nav-toggle:hover svg,
  html body .header .nav-toggle:focus svg,
  html body .header .nav-toggle:active svg,
  html body .header .nav-toggle[aria-expanded="true"] svg {
    color: #161616 !important;
    fill: currentColor !important;
  }

  .header .nav-menu-mobile {
    z-index: 999999 !important;
  }

  /* Mobile menu styling */
  .nav-menu-mobile.is-active {
    display: block !important;
    background: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  }

  /* Additional HubSpot override selectors */
  .hs-tools-menu.hs-collapsed,
  .hs-tools-menu.hs-expanded {
    z-index: 999998 !important;
  }

  /* FINAL CASCADE - Mobile Menu Active State */
  .header .nav-menu-mobile.is-active,
  html body .header .nav-menu-mobile.is-active,
  html body .site-header .nav-menu-mobile.is-active,
  html body .header .site-navigation .nav-menu-mobile.is-active,
  html body .site-header .site-navigation .nav-menu-mobile.is-active,
  .nav-menu-mobile.is-active {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    right: 0 !important;
    background-color: #ffffff !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
    z-index: 999998 !important;
  }

  /* Clinical Brand Variables */
  html[data-brand="cellcolabsclinical"],
  body[data-brand="cellcolabsclinical"],
  [data-brand="cellcolabsclinical"] {
    --color-primary: #4F65BE !important;
    --color-accent: #F9D400 !important;
    --color-text-link: #4F65BE !important;
  }

  /* Force button colors to match brand system */
  [data-brand="cellcolabsclinical"] .button,
  [data-brand="cellcolabsclinical"] .btn,
  [data-brand="cellcolabsclinical"] button {
    background-color: var(--color-brand-100, #becfff) !important;
    border-color: var(--color-white, #ffffff) !important;
    color: var(--color-text-primary, #161616) !important;
  }

  [data-brand="cellcolabsclinical"] .button:hover,
  [data-brand="cellcolabsclinical"] .btn:hover,
  [data-brand="cellcolabsclinical"] button:hover {
    background-color: var(--color-brand-300, #879adf) !important;
    color: var(--color-text-primary, #161616) !important;
  }

  /* Links (but not buttons) use brand colors */
  [data-brand="cellcolabsclinical"] a:not(.button):not(.btn):not(button) {
    color: var(--color-text-link) !important;
  }
</style>
